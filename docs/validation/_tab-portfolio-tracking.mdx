import { Tab, TabGroup, TabList, TabPanel, TabPanels } from '@headlessui/react'

export const CodeDemo = ({ src, children }) => (
  <div className="relative">
    <div className="">{children}</div>
    <img src={src} className="absolute bottom-0 right-4 w-64" />
  </div>
)

<TabGroup>  
  <TabList className="py-6">
    <Tab className="zapper-tab">Tokens</Tab>
    <Tab className="zapper-tab">Apps</Tab>
    <Tab className="zapper-tab">NFTs</Tab>
    <Tab className="zapper-tab">Totals</Tab>
    <Tab className="zapper-tab">Claimables</Tab>
  </TabList>

  <TabPanels>
    <TabPanel className="md:flex">
      <div className="basis-3/5">
        ## Surface Token Balances

        Surfaces onchain token balances held by an address. [Learn More](/docs/api-intro/portfolio/token-balances)

        Includes:
        - Real-time balance updates
        - Coverage of every token from memecoins to bluechips
        - Token metadata and prices
      </div>

      <div className="basis-2/5">
        <CodeDemo src="/img/code/Portfolio_Tokens.png">
          ```graphql
          query GetTokenBalances($addresses: [Address!]!) {
            portfolio(addresses: $addresses) {
              tokenBalances {
                key
                address
                network
                token {
                  baseToken {
                    address
                    network
                    symbol
                    decimals
                    imageUrl
                  }
                  balance
                  balanceUSD
                  balanceRaw
                }
                updatedAt
              }
            }
          }
          ```
        </CodeDemo>
      </div>
    </TabPanel>
    <TabPanel className="md:flex">
      <div className="basis-3/5">
        ## Access DeFi Holdings

        Leverage Zapper's deep coverage of DeFi integrations. [Learn More](/docs/api-intro/portfolio/app-balances)

        Includes:
        - 99%+ DeFi balance TVL coverage
        - 90,000+ DeFi positions
        - New apps appear automatically in the API response once approved
      </div>

      <div className="basis-2/5">
        <CodeDemo src="/img/code/Portfolio_Apps.png">
          ```graphql
          query GetAppBalances($addresses: [Address!]!) {
            portfolio(addresses: $addresses) {
              appBalances {
                key
                address
                appId
                appName
                appImage
                network
                balanceUSD
                updatedAt
                products {
                  label
                  assets {
                    type
                    address
                    network
                    balanceUSD
                    key
                    appId
                    groupId
                    displayProps {
                      label
                      images
                    }
                  }
                }
              }
            }
          }
          ```
        </CodeDemo>
      </div>
    </TabPanel>
    <TabPanel className="md:flex">
      <div className="basis-3/5">
        ## Estimated value & metadata for NFTs

        The ultimate source for NFT data. [Learn More](/docs/api-intro/portfolio/nft-balances)

        Features:
        - Real-time floor prices, top offers, last sales from multiple marketplaces
        - Estimated Values based on historical sales and trait rarity
        - Complete metadata including traits, supply, holders, and more...
        - High-quality media assets with multiple resolution options
      </div>

      <div className="basis-2/5">
        <CodeDemo src="/img/code/Portfolio_NFTs.png">
          ```graphql
          query GetNFTBalances($addresses: [Address!]!) {
            portfolio(addresses: $addresses) {
              nftBalances {
                network
                balanceUSD
              }
            }
          }
          ```
        </CodeDemo>
      </div>
    </TabPanel>
    <TabPanel className="md:flex">
      <div className="basis-3/5">
        ## Access Total Net Worth

        Surfaces various aggregations of onchain portfolio value. [Learn More](/docs/api-intro/portfolio/portfolio-totals)

        Includes:
        - Cross-network portfolio value aggregation
        - Sourced from real-time onchain prices
        - Detailed breakdown by network and token type
      </div>

      <div className="basis-2/5">
        <CodeDemo src="/img/code/Portfolio_Totals.png">
          ```graphql
          query GetPortfolioTotals($addresses: [Address!]!) {
            portfolio(addresses: $addresses) {
              totals {
                total
                appsTotal
                totalWithNFT
                totalByNetwork {
                  network
                  total
                }
                totalByNetworkWithNFT {
                  network
                  total
                }
                totalByAddress {
                  address
                  total
                }
                holdings {
                  key
                  label
                  balanceUSD
                  pct
                }
              }
            }
          }
          ```
        </CodeDemo>
      </div>
    </TabPanel>
    <TabPanel className="md:flex">
      <div className="basis-3/5">
        ## Everybody Loves Claimables

        Surface available claimable tokens for a given address across all indexed onchain apps. [Learn More](/docs/api-intro/portfolio/claimables)

        Features:
        - Real-time tracking of unclaimed rewards
        - Detailed reward token metadata and values
      </div>

      <div className="basis-2/5">
        <CodeDemo src="/img/code/Portfolio_Claimables.png">
          ```graphql
          query GetClaimables($addresses: [Address!]!) {
            portfolio(addresses: $addresses) {
              totals {
                claimables {
                  appId
                  address
                  token {
                    type
                    address
                    network
                    balance
                    balanceUSD
                    price
                    symbol
                    decimals
                  }
                }
              }
            }
          }
          ```
        </CodeDemo>
      </div>
    </TabPanel>
  </TabPanels>
</TabGroup>